# Контрибуция

1. [Сообщение об ошибках](#reporting-issues)
2. [Введение](#introduction)
3. [Начало работы](#getting-started)
4. [Знакомство с командой](#meet-the-team)
1. [Главный программист](#headcoder)
2. [Сопровождающие](#maintainers)
3. [Менеджеры по проблемам](#issue-managers)
5. [Руководства по разработке](#development-guides)
6. [Процесс запроса на включение изменений](#pull-request-process)
7. [Баллы хорошего мальчика](#good-boy-points)
8. [Портирование функций/спрайтов/звуков/инструментов из других кодовых баз](#porting-featuresspritessoundstools-from-other-codebases)
9. [Запрещённый контент](#banned-content)
10. [Пару слов о Git](#a-word-on-git)
## Сообщение об ошибках

Если вы столкнулись с ошибкой в ​​игре, лучший способ сообщить о ней программисту — воспользоваться нашим GitHub Issue Tracker. Пожалуйста, используйте прилагаемый шаблон для сообщения об ошибке и укажите идентификатор раунда сервера.

(Если у вас нет учётной записи, создание новой займёт всего минуту.)

Если у вас возникнут трудности, обратитесь за помощью в канал #coding-general в нашем Discord.

## Введение

Здравствуйте и добро пожаловать на страницу поддержки /tg/station. Вы здесь, потому что вам любопытно или вы хотите внести свой вклад — спасибо! Каждый может внести свой вклад в этот проект, следуя простым рекомендациям и требованиям, приведённым ниже. В /tg/station мы стремимся поддерживать стабильность и удобство поддержки кода, и для этого нам необходимо, чтобы все запросы на извлечение соответствовали этим требованиям. В интересах всех, включая ваши!, чтобы одну и ту же ошибку не приходилось исправлять дважды из-за дублирования кода.

Прежде всего, мы хотим прояснить, как вы можете внести свой вклад (если вы никогда этого не делали), а также какие полномочия есть у команды в отношении ваших дополнений, чтобы избежать неприятных сюрпризов, если ваш запрос на извлечение будет закрыт по причине, которую вы не предвидели.

## Начало работы

/tg/station не содержит списка целей и функций для добавления; вместо этого мы предоставляем контрибутерам свободу предлагать и воплощать свои идеи для игры. Это не значит, что мы не стремимся исправлять ошибки, которые, к сожалению, часто возникают из-за невероятной сложности игры. Вот несколько полезных руководств для начинающих, если вы хотите внести свой вклад или узнать, с какими трудностями можно справиться, не имея никаких знаний о структуре кода игры.

Если вы хотите внести свой вклад, первое, что вам нужно сделать, — это [настроить Git](https://hackmd.io/@tgstation/HJ8OdjNBc), чтобы можно было скачать исходный код.
После настройки (при желании) перейдите в командную строку git в папку проекта и выполните команду: `git config cause.ignoreRevsFile .git-blame-ignore-revs`.

У нас есть [список руководств на вики](http://tgstation13.org/wiki/Guides#Development_and_Contribution_Guides), которые помогут вам начать работу над /tg/station с помощью Git и Dream Maker. Новичкам рекомендуется сначала поработать над небольшими проектами, например, над исправлением ошибок. Если вам нужна помощь в освоении BYOND, обратитесь к этому [репозиторию ресурсов](http://www.byond.com/developer/articles/resources).

Список доступных для решения задач [для вдохновения] находится здесь(https://github.com/tgstation/tgstation/issues?q=is%3Aopen+is%3Aissue+label%3A%22Good+First+Issue%22).

Конечно, вы, как всегда, можете обратиться за помощью в Discord-каналы или на форумы. Мы здесь только для того, чтобы развлекаться и помогать, поэтому, пожалуйста, не рассчитывайте на профессиональную поддержку.
## Знакомство с командой

### Главный кодер

Главный кодер отвечает за контроль, добавление и удаление мейнтейнеров проекта. Помимо выполнения роли обычного мейнтейнера, он имеет исключительное право решать, кто становится мейнтейнером, а кто остаётся им, а кто нет.

### Мейнтейнеры

Мейнтейнеры отвечают за контроль качества. Если предложенный запрос на включение изменений не соответствует следующим требованиям, они могут попросить вас изменить его или просто закрыть запрос на включение изменений. Мейнтейнеры обязаны указать причину закрытия запроса на включение изменений.

Мейнтейнеры могут отменить ваши изменения, если считают, что они не стоят поддержки или не соответствуют требованиям к качеству.

<details>
<summary>Руководство для мейнтейнеров</summary>

Вот несколько директив, которые мы применяем к мейнтейнерам проекта.

- Не объединяйте созданные вами запросы на включение изменений.
- Не объединяйте запросы на включение изменений в течение 24 часов с момента их открытия. Исключения включают:
- Экстренные исправления.
- По возможности, постарайтесь получить одобрение второго сопровождающего перед слиянием.
- Запросы на вычет изменений (PR) с пустыми коммитами, предназначенные для создания журнала изменений.
- Не объединяйте запросы на вычеты изменений (PR), содержащие контент из [списка запрещённого контента](/CONTRIBUTING.md#banned-content).
- Не закрывайте запросы на вычеты изменений (PR) только из-за нарушения шаблона, если та же информация содержится без него.

Это не непреложные правила, поскольку от сопровождающих ожидается, что они будут руководствоваться здравым смыслом при работе.
</details>

### Менеджеры по задачам

Менеджеры по задачам помогают проекту, маркируя отчёты об ошибках и запросы на исправление ошибок (PR), а также закрывая дубликаты или неактуальные отчёты об ошибках.

<details>
<summary>Что можно и что нельзя делать в качестве менеджера по задачам</summary>

Это поможет вам понять, что можно и что нельзя делать с вашими новыми правами доступа на GitHub.

Что вы **МОЖЕТЕ** делать:

- Правильно маркировать задачи
- Закрывать задачи при необходимости
- Помечать запросы на исправление ошибок (PR), если вы не слишком глупы.

Что вы **НЕЛЬЗЯ** делать:

- [Закрыть запросы на исправление ошибок](https://imgur.com/w2RqpX8.png): Закрывать запросы на исправление ошибок разрешено только мейнтейнерам. Не нажимайте эту кнопку.
- Закрывать задачи только из-за нарушения шаблона, если та же информация содержится в нём без него.

Для получения дополнительной информации см. [Руководство по управлению задачами](/.github/guides/ISSUE_MANAGER.md)

</details>

---

Наша команда состоит исключительно из добровольцев, поэтому мы выражаем благодарность всем, кто поддерживает проект, менеджерам по решению проблем и всем, кто вносит свой вклад в его развитие.

## Руководства по разработке

#### Написание читабельного кода

[Руководство по стилю](/.github/guides/STYLE.md)

#### Написание осмысленного кода

[Стандарты кода](/.github/guides/STANDARDS.md)

#### Написание понятного кода

[Автодокументирование кода](/.github/guides/AUTODOC.md)

#### Разное

- [Системы отсчета AI](/code/datums/ai/learn_ai.md)
- [Внедрение компонентов TGUI в чат](/tgui/docs/chat-embedded-components.md)
- [Необратимые удаления](/.github/guides/HARDDELETES.md)
- [Руководство по вкладкам MC](/.github/guides/MC_tab.md)
- [Система конфигурации политик](/.github/guides/POLICYCONFIG.md)
- [Быстрая настройка базы данных разработки с помощью ezdb](/.github/guides/EZDB.md)
- [Обязательные тесты (непрерывная интеграция)](/.github/guides/CI.md)
- [Разделение запросов на включение изменений, также известное как атомизация](/.github/guides/ATOMIZATION.md)
- [Разработка пользовательского интерфейса](/.github/tgui/README.md)
- [Визуальные эффекты и системы](/.github/guides/VISUALS.md)

## Процесс запроса на включение изменений

Строгого процесса слияния запросов на включение изменений не существует. Иногда требуется некоторое время, прежде чем запрос на включение изменений будет рассмотрен ответственным за поддержку; чем масштабнее изменение, тем больше времени потребуется, чтобы оно было принято в код. Каждый член команды — волонтёр, который жертвует своим временем, помогая поддерживать проект и внося свой вклад, поэтому, пожалуйста, будьте вежливы и уважительны. Вот несколько полезных способов упростить для вас и ответственных за поддержку процесса запроса на включение изменений.

- Убедитесь, что ваш запрос на включение изменений соответствует требованиям, изложенным здесь.

- Мы ожидаем, что вы протестируете свои запросы на включение изменений, если это необходимо. Изменения, связанные только с текстом, балансом отдельных чисел и т.п., как правило, не требуют тестирования, но всё остальное требует. Это означает, что веб-редактирование для более крупных изменений запрещено.

- Мы ожидаем, что вы задокументируете все свои изменения в запросе на включение изменений. В противном случае мы задержим его, так как нам придётся задать вопрос о причине внесения изменений. С другой стороны, вы можете ускорить процесс, сделав запрос на извлечение читабельным и понятным, добавив диаграммы или данные «до/после». Если вы оптимизируете процедуру, необходимо предоставить подтверждение ускорения изменений посредством профилирования.

- Мы просим вас использовать систему журнала изменений для документирования изменений, с которыми сталкивается ваш игрок, чтобы наши игроки не были застигнуты врасплох этими изменениями. Подробнее об этом можно узнать [на этой странице вики](http://tgstation13.org/wiki/Guide_to_Changelogs).

- Если вы предлагаете несколько изменений, которые изменяют множество различных аспектов кода, вам следует разделить их на отдельные запросы на извлечение, чтобы упростить их рассмотрение и принятие/отклонение изменений, которые считаются приемлемыми.

- Если ваш запрос на извлечение принят, добавленный вами код больше не принадлежит исключительно вам, а принадлежит всем; Каждый волен работать над ним, но вы также можете поддержать или возразить против любых вносимых изменений, что, вероятно, будет иметь больший вес, поскольку именно вы добавили эту функцию. Жаль, что об этом приходится говорить прямо, но были случаи, когда это помогло бы избежать некоторых проблем.

- Если ваш запрос на извлечение не завершён, вы можете открыть его как черновик для потенциального рассмотрения. Если вы открываете его как полноценный PR, убедитесь, что он хотя бы может быть протестирован в рабочей среде. Запросы на извлечение, не соответствующие хотя бы этому требованию, будут закрыты. Вы можете попросить сопровождающего повторно открыть запрос на извлечение, когда будете готовы, или создать новый.

- Хотя мы без проблем помогаем участникам (и особенно новым участникам) привести разумно большой вклад в соответствие со стандартами через процесс рассмотрения запросов на извлечение, ожидается, что более крупные вклады пройдут более высокий уровень полноты и качества кода _до_ того, как вы откроете запрос на извлечение. Сопровождающие могут закрыть такие запросы, которые будут сочтены существенно недоработанными. Вам следует уделить время обсуждению с сопровождающими или другими участниками процесса улучшения изменений.

- После того, как вы оставили отзывы на открытый запрос на включение изменений, сопровождающие могут преобразовать его в черновик. После того, как вы максимально учтёте все их замечания, снова отметьте запрос на включение изменений как «Готово к проверке».

* **В запросе на извлечение, содержащем спрайты, в теле запроса на извлечение должны быть скриншоты из игры, сделанные на вашем тестовом сервере.** Например, если вы добавляете новую одежду, в тексте запроса на извлечение ожидается скриншот этой одежды в ношеном виде. Не обязательно отображать каждое направление, но необходимо продемонстрировать каждый значок, который фактически используется в игре.

## Обоснование ваших изменений

В разделе «Почему это хорошо для игры» запроса на извлечение необходимо объяснить, почему вы отправляете запрос на извлечение, и как, по вашему мнению, ваши изменения принесут пользу игре. В противном случае запрос на извлечение будет отклонен полностью или вам потребуется исправить его до слияния. Необходимо предоставить разумное обоснование ваших изменений.

В разделе «Почему это хорошо для игры» необходимо добросовестно и разумно попытаться:

- Утвердить и аргументировать, что текущее положение дел в игре неудовлетворительное и требует изменений. - Утверждайте и аргументируйте, что ваш запрос на извлечение либо исправит, либо поможет исправить описанные вами проблемы.
- Утверждайте и аргументируйте, что любые недостатки, внесённые вашим решением в рамках дизайна, если таковые имеются, оправданы, и объясняйте, почему они оправданы.

Более спорные изменения требуют более строгих обоснований, чтобы считаться обоснованными. Например, исправление ошибки обычно не требует никаких усилий для обоснования, поскольку его ценность для игры, как правило, очевидна, однако серьёзная переработка функций или изменение баланса могут потребовать серьёзных объяснений для адекватного обоснования их предполагаемой пользы для игры.

Это требование остаётся обязательным, даже если ваш запрос на извлечение был поддержан и/или запрошен разработчиками до его открытия. Это требование остаётся обязательным, даже если ваш запрос на извлечение был поддержан и/или запрошен ведущими программистами до его открытия. Цель аргументации в пользу ваших изменений заключается не только в том, чтобы убедить команду разработчиков в их достоинствах, но и в том, чтобы задокументировать «зачем» вносимых вами изменений в игру с необходимой степенью детализации. Причина изменения должна существовать, поскольку цель этой кодовой базы — улучшение игры, поэтому указанное обоснование должно быть адекватно изложено и объяснено.

Это требование также сохраняется, если ваш запрос на включение изменений содержит соответствующий проектный документ, обосновывающий ваши изменения. Вы всегда должны должным образом обосновывать изменения (те, которые действительно требуют обоснования) в запросе на включение изменений, даже если вы делаете это в другом месте. Это необходимо для того, чтобы:

1. Все рецензенты могли легко увидеть обоснование ваших изменений в самом запросе на включение изменений, не прибегая к другим ресурсам.
2. Фактическая, явная реализация идеи, лежащей в основе проектного документа, обосновывалась после того, как эта реализация была фактически реализована. Это отличается от любого обоснования, приведённого в самом проектном документе, которое вполне могло быть сделано до начала какой-либо работы над ним, возможно, даже другим автором, нежели автор запроса на включение изменений. Любая идея в проектном документе могла быть подвергнута компромиссам из-за сложностей, не предусмотренных в первоначальном видении, поэтому текущее состояние реализации (запроса на включение изменений в его нынешнем виде) должно быть защищено, объяснено и, в конечном итоге, обосновано само по себе. Конечно, вам по-прежнему следует указать проектный документ, который реализует запрос на включение изменений, и даже использовать аргументы из проектного документа, если они применимы к текущей ситуации с предлагаемыми вами изменениями.

## Good Boy Points

Каждый аккаунт GitHub имеет баллы, известные как Good Boy Points, или GBP. Эта система используется для обеспечения поддержки кодовой базы и исправления ошибок участниками, а также добавления функций.

Прирост или потеря GBP за PR зависит от типа изменений, вносимых в PR, которые представлены тегами, присвоенными PR ботом tgstation на GitHub или мейнтейнерами. Как правило, исправление ошибок, обновление спрайтов или улучшение карт увеличивают ваш балл GBP, в то время как добавление механик или балансировка чего-либо будут стоить вам GBP.

Изменение GBP PR — это сумма наибольшего положительного и наименьшего отрицательного значений. Например, PR с тегами +10, +4, -1, -7 принесет вам 3 GBP (10 - 7).

Отрицательное значение GBP увеличивает вероятность того, что мейнтейнер закроет ваш PR. Чем выше эта вероятность, тем ниже ваш GBP. Обязательно используйте правильные теги в журнале изменений, чтобы избежать ненужной потери GBP. Разработчики оставляют за собой право изменять теги по своему усмотрению.

Высокий положительный рейтинг GBP не даёт никаких преимуществ, поскольку GBP учитывается только при его отрицательном значении.

Вы можете увидеть каждый тег и его значение GBP [здесь](https://github.com/tgstation/tgstation/blob/master/.github/gbp.toml).

## Портирование функций/спрайтов/звуков/инструментов из других кодовых баз

Если вы портируете функции/инструменты из других кодовых баз, необходимо указать их авторство. Как правило, рекомендуется указывать их авторство в запросе на извлечение и журнале изменений. Обратите внимание на используемую лицензию: портирование из кодовых баз AGPLv3 и GPLv3 разрешено.

Что касается спрайтов и звуков, необходимо указать автора и, по возможности, кодовую базу. Все ресурсы /tg/station, включая иконки и звук, находятся под лицензией [Creative Commons 3.0 BY-SA](https://creativecommons.org/licenses/by-sa/3.0/), если не указано иное.

Что касается спрайтов, вам всё равно необходимо сделать собственные скриншоты спрайтов в игре в коде Nova Sector в теле вашего PR-заявки, а не просто использовать скриншоты из оригинального PR-заявки.

## Запрещённый контент

Не добавляйте в запрос на извлечение ничего из перечисленного ниже, иначе пул-реквест может быть закрыт:

- Контент Национал-социалистической партии Германии, контент, связанный с Национал-социалистической партией Германии, или упоминания Национал-социалистической партии Германии.
- Код, добавляющий, удаляющий или обновляющий доступность инопланетных рас/видов/человеческих мутантов без предварительного одобрения. Запросы на извлечение, пытающиеся добавить или удалить функции указанных рас/видов/мутантов, также требуют предварительного одобрения.
- Код, нарушающий [условия обслуживания] GitHub (https://github.com/site/terms).

Отсутствие чего-либо в этом списке не означает, что оно приемлемо. Прежде всего, руководствуйтесь здравым смыслом.

## Несколько слов о Git

В этом репозитории используются окончания строк `LF` для всего кода, как указано в файлах **.gitattributes** и **.editorconfig**.

Если не переопределены или не используется нестандартный исполняемый файл git, настройки завершения строк будут применены к вашему клону автоматически.

Примечание: VSC требует [расширения](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig) для использования editorconfig.

Действия Github, требующие дополнительной настройки, отключены в репозитории до тех пор, пока не будет создан секрет ACTION_ENABLER с непустым значением.

## Использование пинга роли Maintainer в Discord

Если ваш запрос на выдачу исправлений помечен как «Устаревший», вам разрешено отправлять пинг роли `@Maintainer` в Discord на /tg/station. Использование этого пинга для чего-либо другого может привести к увеличению тайм-аутов и передаче дела модераторам Discord на /tg/station для дальнейших нарушений.

Не стесняйтесь участвовать и получать общую обратную связь в канале Coding General без пинга роли, пока ваш запрос на выдачу исправлений не устарел, чтобы привлечь внимание и получить отзывы.
